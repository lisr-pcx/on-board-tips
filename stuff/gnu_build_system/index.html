<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://lisr-pcx.github.io/on-board-tips/stuff/gnu_build_system/" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
<title>OnBoard Tips</title>

    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
        <link href="../../style.css" rel="stylesheet" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "GNU build system";
        var mkdocs_page_input_path = "stuff/gnu_build_system.md";
        var mkdocs_page_url = "/on-board-tips/stuff/gnu_build_system/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> OnBoardTips
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">C++ language</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../cpp_overview/">Overview</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >Focus on</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../cpp_constants/">constants</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../cpp_conferences/">Conferences and keynotes</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">ADA language</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../ada_overview/">Overview</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">General</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../technical_documentation/">Technical documentation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../git_basics/">Git basics</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../regular_expressions/">Regular Expressions</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../wireshark_tcpdump/">Wireshark and tcpdump</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../embedded/">Embedded Systems</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../defensive_programming/">Defensive programming</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Operative Systems</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../linux_os/">Work with Linux</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../linux_fedora/">Fedora Linux</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Workflow</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../sdlc_models/">SDLC models</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tdd_workflow/">Test Driven Development</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../debugging/">Debugging</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../code_reviews/">Code reviews</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Extra</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../../tips_for_junior_devs/">Tips for Junior Devs</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../tips_for_team_leaders/">Tips for Team Leaders</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" >More stuff</a>
    <ul class="current">
                <li class="toctree-l2"><a class="reference internal" href="../project_aristotle/">Project Aristotle</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../smart/">SMART</a>
                </li>
                <li class="toctree-l2 current"><a class="reference internal current" href="#">GNU build system</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../conferences/">Conferences</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../podcasts_books/">Podcasts and books</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../about/">About</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">OnBoardTips</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Extra</li>
          <li class="breadcrumb-item">More stuff</li>
      <li class="breadcrumb-item active">GNU build system</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="gnu-build-system">GNU Build System</h1>
<p>It can be difficult to make a software program portable. Compilers differ from system to system. Certain library functions are missing on some systems. Compiler files (such as C headers) may have different names. Shared libraries may be compiled and installed in different ways. One way to handle platform differences is to write conditionally compiled code but this approach quickly becomes unmanageable.</p>
<p>The GNU Autotools, also known as the GNU Build System, is a suite of build automation tools designed to support building source code and packaging the resulting binaries.<br />
It supports building a codebase for multiple target systems without customizing or modifying the code. It is available on many Linux distributions and Unix-like environments.</p>
<p>Autotools is part of the GNU toolchain and is widely used in many free software and open source packages. It consists of <em>Autoconf, Automake, and Libtool</em>.<br />
Other related tools are GNU make, GNU gettext, pkg-config, and the GNU Compiler Collection (GCC).</p>
<h2 id="use-autotools-to-create-a-package">Use AUTOTOOLS to create a package</h2>
<p>Full documentation can be found on official Debian site, anyway...</p>
<p><a href="https://wiki.debian.org/Packaging/Intro">Introduction to Debian packaging</a><br />
<a href="https://wiki.debian.org/SoftwarePackaging">Be friendly to your packagers</a><br />
<a href="https://www.debian.org/doc/manuals/developers-reference/">Debian Developers' Reference</a><br />
<a href="https://www.debian.org/doc/manuals/maint-guide/">Debian New Maintainers' Guide</a>  </p>
<h3 id="sample-project-snake-clone">Sample project: snake clone</h3>
<p>This project is composed by following files:</p>
<ul>
<li><strong>main.cpp</strong>: entry point</li>
<li><strong>snake.h</strong>: (header) class in charge to plot the game area and manage the game logic</li>
<li><strong>snake.cpp</strong>: (body)</li>
</ul>
<p>The game uses "curses" library for plotting the graphical elements via text console.</p>
<pre><code class="language-cpp">// File: main.cpp
#include &lt;iostream&gt;
#include &lt;curses.h&gt;
#include &lt;unistd.h&gt;
#include &quot;snake.h&quot;

int main()
{    
    // code
}
</code></pre>
<pre><code class="language-cpp">// File: snake.h
#ifndef SNAKE_H
#define SNAKE_H

// define

#include &lt;iostream&gt;
#include &lt;stdlib.h&gt;
#include &lt;time.h&gt;
#include &lt;curses.h&gt;

class Snake
{
public:
  // code
}
</code></pre>
<pre><code class="language-cpp">// File: snake.cpp
#include &quot;snake.h&quot;

Snake::Snake()
{
    // code
}

int Snake::Run()
{
  // code
}
</code></pre>
<p>The program can be compiled and run using:</p>
<pre><code class="language-sh">$ g++ *.cpp -o snake -lcurses -Wall
</code></pre>
<h3 id="create-a-debian-package">Create a DEBIAN package</h3>
<p>Open your project folder, then create the configuration file "configure.ac"</p>
<pre><code class="language-sh">AC_INIT([snake], [0.1], [user@email.xxx])

AM_INIT_AUTOMAKE

AC_PROG_CPP

AC_CONFIG_FILES([Makefile])

AC_OUTPUT
</code></pre>
<p>Create the "Makefile.am"</p>
<pre><code class="language-sh">bin_PROGRAMS = snakegame
snakegame_SOURCES = snake.cpp

clean-local:
        @rm config.status configure config.log
        @rm Makefile
        @rm -r autom4te.cache/
        @rm aclocal.m4
        @rm compile install-sh missing Makefile.in
</code></pre>
<p>Finally run commands:</p>
<pre><code class="language-sh">$ aclocal
$ autoheader
$ autoconf
$ automake
$ automake --add-missing
$ ./configure
$ make
$ make dist
</code></pre>
<p>At this stage make sure your tarball works fine, copy into your testing OS, extract and run again <code>./configure</code> and <code>make</code>.</p>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../smart/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../conferences/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
